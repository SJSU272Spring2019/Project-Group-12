<!DOCTYPE html>
<html>
    <head>
        <style>
           /* Set the size of the div element that contains the map */
          #map {
            height: 400px;  /* The height is 400 pixels */
            width: 100%;  /* The width is the width of the web page */
           }
        </style>
      </head>
      <body>
        <h3>Google Map API for Predicting Break-Ins</h3>
        <!--The div element for the map -->
        <div id="map"></div>

    <script>
    // Initialize and add the map
    function initMap(locations) {
      var dict = JSON.stringify("{{locations[0]}}");
      document.write(dict);
      
      document.write("<br>");

      //var test = JSON.parse("{{locations[0]}}");
      //console.log(test);
      var lat1 = JSON.stringify("{{locations[0]['latitude']}}");
      lat1 = lat1.substring(1, lat1.length-1); 
      var lng1 = JSON.stringify("{{locations[0]['longitude']}}");
      lng1 = lng1.substring(1, lng1.length-1);

      console.log(lat1);
      console.log(lng1);

      lat1 = parseFloat(lat1);
      lng1 = parseFloat(lng1);

      console.log(lat1);
      console.log(lng1);

      var len = JSON.stringify("{{locations|length}}");
      console.log(len);
      

      var location1 = {lat: lat1, lng: lng1}
      

      var map = new google.maps.Map(
          document.getElementById('map'), {zoom: 8, center: location1});

      var marker1 = new google.maps.Marker({position: location1, map: map});
    }
        </script>
        <!--Load the API from the specified URL
        * The async attribute allows the browser to render the page while the API loads
        * The key parameter will contain your own API key (which is not needed for this tutorial)
        * The callback parameter executes the initMap() function
        -->
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCrhrtItfm2BbofqBvV-H1omDvZeOzJ96Q&callback=initMap">
        </script>
      </body>
    


</html>